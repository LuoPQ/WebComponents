<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>

    <div id="dialog" style="z-index:4000;width:500px;height:250px;background-color:ActiveCaption;border:1px solid #CCC;" data-bind="dialog:{'instance':dialogIns}"></div>
    <input type="button" value="弹出对话框" data-bind="click:show" />
    <script src="../../Scripts/jquery-2.1.3.min.js"></script>
    <script src="jquery.dialog.js"></script>
    <script src="../../Scripts/knockout-3.2.0.js"></script>
    <script>
        ko.bindingHandlers.dialog = {
            init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
                var options = valueAccessor();

                var dialog = $.dialog($(element), {
                    modal: true,
                    drag: true
                });
                if (options.instance) {
                    options.instance(dialog);
                }
            },
            update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {

            }
        }

        var VM = function () {
            var self = this;

            self.dialogIns = ko.observable();

            self.show = function () {
                self.dialogIns().show();
            }
        }

        ko.applyBindings(VM);
    </script>
</body>
</html>
