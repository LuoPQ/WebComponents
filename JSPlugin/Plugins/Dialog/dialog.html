<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <style>
        html, body, div { margin: 0; padding: 0; }
        .mask { width: 100%; height: 100%; position: fixed; z-index: 1999; background-color: #a7a7a7; opacity: 0.3; filter: alpha(opacity=30); }
        a { text-decoration: none; }
    </style>
</head>
<body>
    <!--<div class="mask">遮罩层</div>
    <div id="dialog" style="z-index:4000;width:500px;height:250px;background-color:ActiveCaption;border:1px solid #CCC;">
        弹出的窗口
        <a id="btnHide" href="javascript:;" style="position:absolute;top:1px;right:1px;border:1px solid #ccc;font-size:18px;">×</a>
    </div>
    <div style="height:1500px;">
        <input type="button" id="btnShow" value="显示对话框" />
    </div>-->
    <div style="height:1500px;">
        <input type="button" id="btnShow" value="显示对话框" />
        <div style="border:1px solid #ccc;width:250px;height:200px;" id="dragObj">拖拽对象</div>
        <div style="border:1px solid #ccc;width:250px;height:200px;" id="dragObj2">拖拽对象2</div>
    </div>

    <div id="dialog" style="z-index:4000;width:500px;height:250px;background-color:ActiveCaption;border:1px solid #CCC;">
        弹出的窗口
        <a id="btnHide" href="javascript:;" style="position:absolute;top:1px;right:1px;border:1px solid #ccc;font-size:18px;">×</a>
        <input type="text" value=""/>
    </div>

    <script src="http://static.yiqifei.com/js/jquery-1.8.2.min.js"></script>
    <script src="jquery.dialog.js"></script>
    <script>
        //$("#dialog").css({
        //    top: ($(window).height() - $("#dialog").height()) / 2,
        //    left: ($(window).width() - $("#dialog").width()) / 2,
        //    position: "fixed"
        //});

        //$(window).on("resize", function () {
        //    $("#dialog").css({
        //        top: ($(window).height() - $("#dialog").height()) / 2,
        //        left: ($(window).width() - $("#dialog").width()) / 2,
        //        position: "fixed"
        //    });
        //})


        //$("#btnHide").on("click", function () {
        //    $(".mask").hide();
        //    $("#dialog").hide();
        //})

        //$("#btnShow").on("click", function () {
        //    $("#dialog").show();
        //    $(".mask").show();
        //})

        //var parent = $("#dialog").wrap("<div></div>").parent();
        //var html = parent.html();
        //$("#dialog").unwrap();

        var dialog = $.dialog($("#dialog"), {
            modal: true,
            drag: true
        });

        $("#btnShow").on("click", function () {
            dialog.show();
        });
        $("#btnHide").on("click", function () {
            dialog.hide();
        })

        //console.log($("#btnShow").scrollTop());
        //console.log($(window).scrollTop());

        $.drag($("#dragObj"));
        $.drag($("#dragObj2"));

    </script>
</body>
</html>
